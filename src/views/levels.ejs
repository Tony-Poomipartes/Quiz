<%- include("partials/header") %>

<main class="container py-4">

  <% if (locals.isError) { %>
    <!-- Toast en cas d'erreur -->
    <div class="alert alert-danger" role="alert">
      Une erreur s'est produite lors de l'enregistrement du niveau.
    </div>
  <% } %>

  <% if (locals.isSuccess) { %>
    <!-- Toast en cas de succès -->
    <div class="alert alert-success" role="alert">
      Le niveau a été enregistré avec succès.
    </div>
  <% } %>


  <h1 class="my-3">Tous les niveaux</h1>

  <ul>

    <% for (const level of levels) { %>
      <li>
        <span class="badge bg-info p-3"><%= level.name %></span>
        <a class="btn btn-outline-info py-0 px-1 ms-3 fs-6 text-decoration-none" href="#">ÉDITER</a>
        <form class="d-inline" action="#" method="POST">
          <input class="btn btn-outline-danger py-0 px-1 ms-3 fs-6" type="submit" value="SUPPRIMER">
        </form>
      </li>
    <% } %>

  </ul>

  <h1 class="my-4">Ajouter un niveau</h1>

  <form class="mb-5" action="/levels" method="POST">
    <label class="form-label" for="name">Couleur du niveau</label>
    <input class="form-control" type="text" name="name" id="name" required>
    <input class="btn btn-primary mt-3" type="submit" value="Ajouter le niveau">
  </form>

</main>

<%- include("partials/footer") %>
